<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        .a {
            position: absolute;
            top: 0;
            left: 0;
            width: 100px;
            height: 100px;
            opacity: 0.5;
            background: green;
            -webkit-transform: translate3d(100px, 100px, 0) rotate3d(1, 1, 0, 30deg) scale(1.3);
            /*-webkit-transform-origin: 0 0;*/
        }

        .p {
            position: absolute;
            top: 0;
            left: 0;
            width: 6px;
            height: 6px;
            border-radius: 6px;
            background: black;
        }
    </style>
</head>
<body>
<div class="a"></div>
<div class="p"></div>
<script src="../js/basic.js"></script>
<script src="../js/3d-css.js"></script>
<script>
    (function () {
        // api
        var combine = _3d.combine,
                translate3d = _3d.translate3dM,
                rotate3d = _3d.rotate3dM,
                decompose3d = _3d.decompose3d,
                origin3d = _3d.origin3d,
                scale3d = _3d.scale3dM;

        // dom
        var querySelector = document.querySelector.bind( document ),
                b = querySelector( ".b" ),
                p = querySelector( ".p" );


        var matrix = combine( translate3d( 100, 100, 0 ), rotate3d( 1, 1, 0, 30 ), scale3d( 1.3, 1.3, 1.3 ) );
        matrix = origin3d( matrix, 50, 50, 0 );
        var v = decompose3d( matrix, [0, 0, 0, 1] );
        p.css( {
            "-webkit-transform" : "translate3d(" + (v[0] - 3) + "px," + (v[1] - 3) + "px," + v[2] + "px)"
        } )

    })();
</script>
</body>
</html>